{"ast":null,"code":"import _classCallCheck from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Component}from\"react\";import{withRouter}from\"react-router\";import Header from\"../../components/Header\";import PRODUCT_LIST from\"utils/constants/PRODUCT_LIST\";import checkForApathy from\"utils/checkProduct/checkForApathy\";import addApathy from\"utils/manageLocalStorage/addApathy\";import addInquiryHistory from\"utils/manageLocalStorage/addInquiryHistory\";import RandomButton from\"components/RandomButton\";import Card from\"components/Card\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emptyInfo={title:\"상품이 존재하지 않습니다\"};var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.getRandomProduct=function(currentProductId){var _loop=function _loop(){var newProductId=Math.floor(Math.random()*(PRODUCT_LIST.length+1));if(newProductId===0||newProductId===currentProductId||checkForApathy(newProductId))return\"continue\";return{v:PRODUCT_LIST.find(function(e){return e.id===newProductId;})};};while(true){var _ret=_loop();if(_ret===\"continue\")continue;if(typeof _ret===\"object\")return _ret.v;}};_this.handleOnClickRandomButton=function(isApathyButton){var currentProductId=_this.state.currentProductInfo.id;if(isApathyButton){addApathy(currentProductId);}var newProductInfo=_this.getRandomProduct(currentProductId);window.sessionStorage.setItem(\"currentProductInfo\",JSON.stringify(newProductInfo));addInquiryHistory(newProductInfo);_this.setState(function(prevState){return{currentProductInfo:newProductInfo};});};var currentProductInfo=JSON.parse(window.sessionStorage.getItem(\"currentProductInfo\"));_this.state={currentProductInfo:currentProductInfo?currentProductInfo:emptyInfo};return _this;}_createClass(Product,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"product-page\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-page-content\",children:[/*#__PURE__*/_jsx(Card,{productInfo:this.state.currentProductInfo}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-wrap\",children:[/*#__PURE__*/_jsx(RandomButton,{isApathyButton:false,handleOnClick:this.handleOnClickRandomButton}),/*#__PURE__*/_jsx(RandomButton,{isApathyButton:true,handleOnClick:this.handleOnClickRandomButton})]})]})]});}}]);return Product;}(Component);export default withRouter(Product);","map":{"version":3,"sources":["/Users/hseo/mr-camel/src/pages/Product/index.js"],"names":["Component","withRouter","Header","PRODUCT_LIST","checkForApathy","addApathy","addInquiryHistory","RandomButton","Card","emptyInfo","title","Product","props","getRandomProduct","currentProductId","newProductId","Math","floor","random","length","find","e","id","handleOnClickRandomButton","isApathyButton","state","currentProductInfo","newProductInfo","window","sessionStorage","setItem","JSON","stringify","setState","prevState","parse","getItem"],"mappings":"4hBAAA,OAASA,SAAT,KAA0B,OAA1B,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,yBAAnB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,4CAA9B,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CACA,MAAOC,CAAAA,IAAP,KAAiB,iBAAjB,CACA,MAAO,aAAP,C,wFAGA,GAAMC,CAAAA,SAAS,CAAG,CAACC,KAAK,CAAE,eAAR,CAAlB,C,GAEMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EADe,MAQjBC,gBARiB,CAQE,SAACC,gBAAD,CAAsB,4BAEjC,GAAIC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,IAAiBf,YAAY,CAACgB,MAAb,CAAsB,CAAvC,CAAX,CAAnB,CACA,GAAIJ,YAAY,GAAK,CAAjB,EAAsBA,YAAY,GAAKD,gBAAvC,EAA2DV,cAAc,CAACW,YAAD,CAA7E,CACI,iBACJ,SAAOZ,YAAY,CAACiB,IAAb,CAAkB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,EAAF,GAASP,YAAhB,EAAlB,CAAP,EALiC,EACrC,MAAO,IAAP,CAAa,uCAGL,SAHK,wCAKZ,CACJ,CAfgB,OAiBjBQ,yBAjBiB,CAiBW,SAACC,cAAD,CAAoB,CAC5C,GAAMV,CAAAA,gBAAgB,CAAG,MAAKW,KAAL,CAAWC,kBAAX,CAA8BJ,EAAvD,CACA,GAAIE,cAAJ,CAAoB,CAChBnB,SAAS,CAACS,gBAAD,CAAT,CACH,CACD,GAAMa,CAAAA,cAAc,CAAG,MAAKd,gBAAL,CAAsBC,gBAAtB,CAAvB,CACAc,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,oBAA9B,CAAoDC,IAAI,CAACC,SAAL,CAAeL,cAAf,CAApD,EACArB,iBAAiB,CAACqB,cAAD,CAAjB,CACA,MAAKM,QAAL,CAAc,SAAAC,SAAS,QAAK,CAACR,kBAAkB,CAAEC,cAArB,CAAL,EAAvB,EACH,CA1BgB,CAEf,GAAMD,CAAAA,kBAAkB,CAAGK,IAAI,CAACI,KAAL,CAAWP,MAAM,CAACC,cAAP,CAAsBO,OAAtB,CAA8B,oBAA9B,CAAX,CAA3B,CACA,MAAKX,KAAL,CAAa,CACTC,kBAAkB,CAAEA,kBAAkB,CAAGA,kBAAH,CAAwBjB,SADrD,CAAb,CAHe,aAMlB,C,0CAsBD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,cAAf,wBACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,sBAAf,wBACI,KAAC,IAAD,EAAM,WAAW,CAAE,KAAKgB,KAAL,CAAWC,kBAA9B,EADJ,cAEI,aAAK,SAAS,CAAC,aAAf,wBACI,KAAC,YAAD,EAAc,cAAc,CAAE,KAA9B,CAAqC,aAAa,CAAE,KAAKH,yBAAzD,EADJ,cAEI,KAAC,YAAD,EAAc,cAAc,CAAE,IAA9B,CAAoC,aAAa,CAAE,KAAKA,yBAAxD,EAFJ,GAFJ,GAFF,GADF,CAYD,C,qBA1CmBvB,S,EA6CtB,cAAeC,CAAAA,UAAU,CAACU,OAAD,CAAzB","sourcesContent":["import { Component } from \"react\";\nimport { withRouter } from \"react-router\";\nimport Header from \"../../components/Header\";\nimport PRODUCT_LIST from \"utils/constants/PRODUCT_LIST\";\nimport checkForApathy from \"utils/checkProduct/checkForApathy\";\nimport addApathy from \"utils/manageLocalStorage/addApathy\";\nimport addInquiryHistory from \"utils/manageLocalStorage/addInquiryHistory\";\nimport RandomButton from \"components/RandomButton\";\nimport Card from \"components/Card\";\nimport \"./style.css\";\n\n\nconst emptyInfo = {title: \"상품이 존재하지 않습니다\"}\n\nclass Product extends Component {\n  constructor(props) {\n      super(props);\n      const currentProductInfo = JSON.parse(window.sessionStorage.getItem(\"currentProductInfo\"));\n      this.state = {\n          currentProductInfo: currentProductInfo ? currentProductInfo : emptyInfo,\n      };\n  }\n  \n    getRandomProduct = (currentProductId) => {\n        while (true) {\n            let newProductId = Math.floor(Math.random() * (PRODUCT_LIST.length + 1))\n            if (newProductId === 0 || newProductId === currentProductId || checkForApathy(newProductId))\n                continue;\n            return PRODUCT_LIST.find((e) => e.id === newProductId);\n        }\n    }\n\n    handleOnClickRandomButton = (isApathyButton) => {\n        const currentProductId = this.state.currentProductInfo.id;\n        if (isApathyButton) {\n            addApathy(currentProductId);\n        }\n        const newProductInfo = this.getRandomProduct(currentProductId);\n        window.sessionStorage.setItem(\"currentProductInfo\", JSON.stringify(newProductInfo));\n        addInquiryHistory(newProductInfo);\n        this.setState(prevState => ({currentProductInfo: newProductInfo}));\n    }\n\n  render() {\n    return (\n      <div className=\"product-page\">\n        <Header />\n        <div className=\"product-page-content\">\n            <Card productInfo={this.state.currentProductInfo}/>\n            <div className=\"button-wrap\">\n                <RandomButton isApathyButton={false} handleOnClick={this.handleOnClickRandomButton}/>\n                <RandomButton isApathyButton={true} handleOnClick={this.handleOnClickRandomButton}/>\n            </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Product);\n"]},"metadata":{},"sourceType":"module"}