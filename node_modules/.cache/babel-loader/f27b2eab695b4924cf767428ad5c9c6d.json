{"ast":null,"code":"import _toConsumableArray from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hseo/mr-camel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./style.css\";import BrandFilter from\"components/BrandFilter\";import InterestFilter from\"components/InterestFilter\";import RecentListView from\"components/RecentListView\";import SortMethodBar from\"components/SortMethodBar\";import Header from\"components/Header\";import BRAND_LIST from\"utils/constants/BRAND_LIST\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var RecentListPage=/*#__PURE__*/function(_React$Component){_inherits(RecentListPage,_React$Component);var _super=_createSuper(RecentListPage);function RecentListPage(props){var _this;_classCallCheck(this,RecentListPage);_this=_super.call(this,props);var parsedInquiryHistory=JSON.parse(window.localStorage.getItem(\"inquiryHistory\"));_this.state={checkedBrand:BRAND_LIST.reduce(function(map,brand){map.set(brand,false);return map;},new Map()),isHidden:false,sortMethod:\"recent\",inquiryHistoryList:parsedInquiryHistory.recent.map(function(e){return parsedInquiryHistory.items[e];}),apathyList:JSON.parse(window.localStorage.getItem(\"apathy\"))};_this.handleCheckboxChange=_this.handleCheckboxChange.bind(_assertThisInitialized(_this));_this.handleInterestCheckboxChange=_this.handleInterestCheckboxChange.bind(_assertThisInitialized(_this));_this.handleMethodChange=_this.handleMethodChange.bind(_assertThisInitialized(_this));return _this;}_createClass(RecentListPage,[{key:\"handleCheckboxChange\",value:function handleCheckboxChange(event){var brand=event.target.name;var isChecked=event.target.checked;this.setState(function(prev){return{checkedBrand:prev.checkedBrand.set(brand,isChecked)};});}},{key:\"handleInterestCheckboxChange\",value:function handleInterestCheckboxChange(event){this.setState({isHidden:event.target.checked});}},{key:\"handleMethodChange\",value:function handleMethodChange(e){this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{sortMethod:e.target.value});});}},{key:\"render\",value:function render(){var _this2=this;var filteredBrandList=Array.from(this.state.checkedBrand.values()).some(function(e){return e===true;})?this.state.inquiryHistoryList.filter(function(product){return _toConsumableArray(_this2.state.checkedBrand).flatMap(function(e){return e[1]===true?[e[0]]:[];}).includes(product.brand);}):this.state.inquiryHistoryList;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"recentList-filters\",children:[/*#__PURE__*/_jsx(BrandFilter,{checkedBrand:this.state.checkedBrand,handleCheckboxChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(SortMethodBar,{handleMethodChange:this.handleMethodChange}),/*#__PURE__*/_jsx(InterestFilter,{handleInterestCheckboxChange:this.handleInterestCheckboxChange}),/*#__PURE__*/_jsx(RecentListView,{sortMethod:this.state.sortMethod,brandList:this.state.isHidden?filteredBrandList.filter(function(e){return _this2.state.apathyList.indexOf(e.id)===-1;}):filteredBrandList})]})]});}}]);return RecentListPage;}(React.Component);export default RecentListPage;","map":{"version":3,"sources":["/Users/hseo/mr-camel/src/pages/RecentList/index.js"],"names":["React","BrandFilter","InterestFilter","RecentListView","SortMethodBar","Header","BRAND_LIST","RecentListPage","props","parsedInquiryHistory","JSON","parse","window","localStorage","getItem","state","checkedBrand","reduce","map","brand","set","Map","isHidden","sortMethod","inquiryHistoryList","recent","e","items","apathyList","handleCheckboxChange","bind","handleInterestCheckboxChange","handleMethodChange","event","target","name","isChecked","checked","setState","prev","prevState","value","filteredBrandList","Array","from","values","some","filter","product","flatMap","includes","indexOf","id","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\n\nimport BrandFilter from \"components/BrandFilter\";\nimport InterestFilter from \"components/InterestFilter\";\nimport RecentListView from \"components/RecentListView\";\nimport SortMethodBar from \"components/SortMethodBar\";\nimport Header from \"components/Header\";\nimport BRAND_LIST from \"utils/constants/BRAND_LIST\";\n\nclass RecentListPage extends React.Component {\n  constructor(props) {\n    super(props);\n    const parsedInquiryHistory= JSON.parse(window.localStorage.getItem(\"inquiryHistory\"));\n    this.state = {\n      checkedBrand: BRAND_LIST.reduce((map, brand) => {\n        map.set(brand, false);\n        return map;\n      }, new Map()),\n      isHidden: false,\n      sortMethod: \"recent\",\n      inquiryHistoryList: parsedInquiryHistory.recent.map((e) => parsedInquiryHistory.items[e]),\n      apathyList: JSON.parse(window.localStorage.getItem(\"apathy\")),\n    };\n    this.handleCheckboxChange = this.handleCheckboxChange.bind(this);\n    this.handleInterestCheckboxChange = this.handleInterestCheckboxChange.bind(this);\n    this.handleMethodChange = this.handleMethodChange.bind(this);\n  }\n\n  handleCheckboxChange(event) {\n    const brand = event.target.name;\n    const isChecked = event.target.checked;\n    this.setState(prev => ({ checkedBrand: prev.checkedBrand.set(brand, isChecked) }));\n  }\n\n  handleInterestCheckboxChange(event) {\n    this.setState({ isHidden: event.target.checked });\n  }\n\n  handleMethodChange(e) {\n      this.setState(prevState => ({ ...prevState, sortMethod: e.target.value }))\n  }\n\n  render() {\n    const filteredBrandList = Array.from(this.state.checkedBrand.values()).some(e => e === true) ? \n        this.state.inquiryHistoryList\n        .filter(product => [...this.state.checkedBrand].flatMap(e => (e[1] === true ? [e[0]] : []))\n        .includes(product.brand))\n        :\n        this.state.inquiryHistoryList\n\n    return (\n      <>\n        <Header />\n        <div className=\"recentList-filters\">\n          <BrandFilter checkedBrand={this.state.checkedBrand} handleCheckboxChange={this.handleCheckboxChange} />\n          <SortMethodBar handleMethodChange={this.handleMethodChange}/>\n          <InterestFilter handleInterestCheckboxChange={this.handleInterestCheckboxChange} />\n          <RecentListView sortMethod={this.state.sortMethod} brandList={this.state.isHidden ? filteredBrandList.filter(e => this.state.apathyList.indexOf(e.id) === -1) : filteredBrandList} />\n        </div>\n      </>\n    );\n  }\n}\n\nexport default RecentListPage;\n"]},"metadata":{},"sourceType":"module"}